!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){kontra.init();let n=[],r=1;const i=document.getElementById("spriteCount"),a=document.getElementById("seconds"),l=document.getElementById("minutes"),o=document.getElementById("hours"),d=document.getElementById("errorText"),s=document.getElementById("selectedSpriteInfo");let h=!1,u=null;function c(){let e=0;a.innerHTML=0;let t=0;l.innerHTML=0;let n=0;o.innerHTML=0,u=setInterval(()=>{h||(60===(e+=1)&&(t+=1,e=0,l.innerHTML=t),60===t&&(n+=1,t=0,o.innerHTML=n),a.innerHTML=e)},1e3)}function f(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function g(){H.stop(),h=!0}function p(e){d.removeAttribute("style"),d.innerHTML=e}function m(e){s.innerHTML="",clearInterval(e.interval)}function y(e){s.innerHTML="";let t=document.createElement("ul");const n=["height","width","color","speed","isFertile","fertilityRate","fertilityProgress","hunger","totalHunger","health","totalHealth","damage","defence","sight"];Object.entries(e).map(e=>{for(let r=0;r<n.length-1;r++)if(e[0]===n[r]){let n=document.createElement("li"),r=document.createTextNode(e[0]+": "+e[1]);n.appendChild(r),t.appendChild(n);break}}),s.appendChild(t)}function v(e,t,i,a,l,o,d,s,u){r+=1;let c=kontra.sprite({id:r,selected:!1,interval:null,x:e,y:t,color:"red",width:i,height:i,ttl:1/0,speed:a,dx:Math.random()*a-2,dy:Math.random()*a-2,isFertile:!1,fertilityRate:l,fertilityProgress:0,hunger:o,totalHunger:o,health:d,totalHealth:d,damage:s,defence:u,sight:0,diseased:{diseased:!1,damage:0},isColliding:!1,onUp:function(){var e;e=this,n.forEach(t=>{e!==t&&(t.selected="false",clearInterval(t.interval),t.color="red")}),e.color="green",e.selected="true",y(e),e.interval=setInterval(()=>{h||y(e)},100)}});n.push(c),kontra.pointer.track(c)}function M(e,t){let n={};(n=1===f(1,2)?Object.assign({},e):Object.assign({},t)).size=1===f(1,2)?e.width:t.width,n.speed=1===f(1,2)?e.speed:t.speed,n.fertilityRate=1===f(1,2)?e.fertilityRate:t.fertilityRate,n.totalHunger=1===f(1,2)?e.totalHunger:t.totalHunger,n.health=1===f(1,2)?e.health:t.health,n.damage=1===f(1,2)?e.damage:t.damage,n.defence=1===f(1,2)?e.defence:t.defence;const r=f(1,7);1===r?1===f(1,2)?n.size+=5:n.size>5&&(n.size-=5):2===r?1===f(1,2)?n.speed+=1:n.speed>4&&(n.speed-=1):3===r?1===f(1,2)?n.fertilityRate+=1:n.fertilityRate>0&&(n.fertilityRate-=1):4===r?1===f(1,2)?n.totalHunger+=100:n.totalHunger>100&&(n.totalHunger-=100):5===r?1===f(1,2)?n.health+=10:n.health>10&&(n.health-=10):6===r?1===f(1,2)?n.damage+=5:n.damage>0&&(n.damage-=5):7===r&&(1===f(1,2)?n.defence+=5:n.defence>0&&(n.defence-=5)),v(n.position._x,n.position._y,n.size,n.speed,n.fertilityRate,n.totalHunger,n.health,n.damage,n.defence),e.isFertile=!1,t.isFertile=!1}window.togglePause=function(){H.isStopped?H.start():H.stop(),h=!h},window.restart=function(){n.forEach(e=>{m(e)}),H.isStopped||H.stop(),n=[],d.setAttribute("style","display:none;"),h=!1;const e=800,t=600;for(let n=0;n<50;n++)v(Math.floor(Math.random()*e),Math.floor(Math.random()*t),25,4,1,2e3,2e3,10,5);u?(clearInterval(u),c()):c(),H.start()};let H=kontra.gameLoop({update(){n.map(e=>{e.update(),e.x<0?e.x=kontra.canvas.width:e.x>kontra.canvas.width&&(e.x=0),e.y<0?e.y=kontra.canvas.height:e.y>kontra.canvas.height&&(e.y=0),e.health<=0&&(e.interval&&m(e),e.ttl=0),e.hunger<=0&&e.health>0&&(e.health-=1),e.hunger>0&&(e.hunger-=1),e.isFertile||(e.fertilityProgress<1e3&&(e.fertilityProgress+=e.fertilityRate),1e3===e.fertilityProgress&&(e.isFertile=!0,e.fertilityProgress=0))}),n.forEach((e,t)=>{e.isColliding=!1}),function(){for(let a=0;a<n.length-1;a++)for(let l=a+1;l<n.length;l++)r=n[a],i=n[l],r.y+r.height<i.y||r.y>i.y+i.height||r.x+r.width<i.x||r.x>i.x+i.width||n[a]===n[l]||(n[a].isColliding=!0,n[l].isColliding=!0,n[a].isFertile&&n[l].isFertile?M(n[a],n[l]):(e=n[a],t=n[l],e.health>0&&(e.health-=t.damage-e.defence),e.hunger<e.totalHunger-10&&(e.hunger+=10),t.health>0&&(t.health-=e.damage-t.defence),t.hunger<t.totalHunger&&(t.hunger+=1)));var e,t,r,i}(),n=n.filter(e=>e.isAlive()),i.innerHTML=n.length,n.length>=400?(g(),p("Exponential growth detected... Sim over; please restart.")):n.length<=0&&(g(),p("All sprites are dead... Sim over; please restart."))},render(){n.map(e=>e.render())}})}]);